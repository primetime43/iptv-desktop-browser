<Window x:Class="DesktopApp.Views.CredentialManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Credential Manager" Height="500" Width="760" Background="#0D1117" WindowStartupLocation="CenterOwner" ResizeMode="CanResizeWithGrip">
    <Window.Resources>
        <Style TargetType="TextBox" x:Key="InputBox">
            <Setter Property="Margin" Value="0 4 0 10"/>
            <Setter Property="Padding" Value="6 3"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#DDE6F2"/>
            <Setter Property="Background" Value="#182230"/>
            <Setter Property="BorderBrush" Value="#243347"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CaretBrush" Value="#FFFFFF"/>
        </Style>
        <Style TargetType="PasswordBox" x:Key="PwdBox">
            <Setter Property="Margin" Value="0 4 0 10"/>
            <Setter Property="Padding" Value="6 3"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#DDE6F2"/>
            <Setter Property="Background" Value="#182230"/>
            <Setter Property="BorderBrush" Value="#243347"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        <!-- Compact action button -->
        <Style TargetType="Button" x:Key="ActionButton">
            <Setter Property="Height" Value="30"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="10 2"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="Background" Value="#3D6EFF"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#5A82FF"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#2F57B8"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.55"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="Button" x:Key="SecondaryButton" BasedOn="{StaticResource ActionButton}">
            <Setter Property="Background" Value="#2E485F"/>
        </Style>
        <Style TargetType="ListBox" x:Key="ProfileList">
            <Setter Property="Background" Value="#121B25"/>
            <Setter Property="BorderBrush" Value="#243347"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="#DDE6F2"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
    </Window.Resources>

    <Grid Margin="14">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <!-- Profiles list panel -->
        <Border Grid.Column="0" Background="#131C27" CornerRadius="10" Padding="12" Margin="0 0 14 0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Saved Profiles" FontWeight="SemiBold" Foreground="#F0F6FC" Margin="2 0 0 6"/>
                <ListBox x:Name="ProfilesList" Grid.Row="1" Style="{StaticResource ProfileList}" DisplayMemberPath="Display" SelectionChanged="ProfilesList_SelectionChanged"/>
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 10 0 0">
                    <Button Content="Reload" Style="{StaticResource ActionButton}" Width="70" Click="Reload_Click"/>
                    <Button Content="Delete" Style="{StaticResource ActionButton}" Width="70" Margin="6 0 0 0" Click="Delete_Click"/>
                    <Button Content="Delete All" Style="{StaticResource ActionButton}" Width="90" Margin="6 0 0 0" Click="DeleteAll_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Details panel -->
        <Border Grid.Column="1" Background="#131C27" CornerRadius="10" Padding="20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Profile Details" FontWeight="SemiBold" Foreground="#F0F6FC" FontSize="14"/>
                <StackPanel Grid.Row="1" Margin="0 8 0 0">
                    <TextBlock Text="Server" Foreground="#8BA1B9" FontSize="12"/>
                    <TextBox x:Name="ServerBox" Style="{StaticResource InputBox}"/>
                    <UniformGrid Columns="3" Margin="0 0 0 0">
                        <StackPanel Margin="0 0 6 0">
                            <TextBlock Text="Port" Foreground="#8BA1B9" FontSize="12"/>
                            <TextBox x:Name="PortBox" Style="{StaticResource InputBox}" Margin="0 4 0 0"/>
                        </StackPanel>
                        <StackPanel Margin="0 0 6 0">
                            <TextBlock Text="Username" Foreground="#8BA1B9" FontSize="12"/>
                            <TextBox x:Name="UserBox" Style="{StaticResource InputBox}" Margin="0 4 0 0"/>
                        </StackPanel>
                        <StackPanel>
                            <TextBlock Text="Password" Foreground="#8BA1B9" FontSize="12"/>
                            <PasswordBox x:Name="PassBox" Style="{StaticResource PwdBox}" Margin="0 4 0 0"/>
                        </StackPanel>
                    </UniformGrid>
                    <CheckBox x:Name="SslBox" Content="Use SSL" Foreground="#DDE6F2" Margin="0 0 0 4"/>
                </StackPanel>
                <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0 10 0 0" HorizontalAlignment="Left">
                    <Button Content="Save / Update" Style="{StaticResource ActionButton}" Width="110" Click="SaveUpdate_Click"/>
                    <Button Content="Use" Style="{StaticResource SecondaryButton}" Width="70" Margin="8 0 0 0" Click="Use_Click"/>
                    <TextBlock x:Name="StatusText" Foreground="#6C8298" Margin="16 7 0 0"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>